{% extends 'pages/base.html' %}

{% block scripts %}
<script>
  function formErrorBox(errors, inputTarget, errorSource) {
    if (errors) {
      jQuery(function($) {
        $('#'+inputTarget).popover({content: $('#'+errorSource).html(), container: 'body', placement: 'right', html: true}).popover('show');
      });
    }
  }
</script>
{% endblock %}

{% block content %}
    <div class="jumbotron vertical-center">
        <div class="col-12">

        </div>
    </div>

    <div class="jumbotron d-flex align-items-center min-vh-100">
        <div class="container text-center">
            <div class="col-auto formBox">
                <h1 class="p-3">Sign up</h1>
                <div class='page-content'>
                    <form method="post">
                        {% csrf_token %}
                        <div class="form-group m-2">
                            {{ form.username }}
                            <div style="display: none;" id='usernameErrors'>
                              {{ form.username.errors }}
                            </div>
                            <script>formErrorBox('{{ form.username.errors }}', 'usernameInput', 'usernameErrors');</script>
                        </div>

                        <div class="form-group m-2">
                            {{ form.email }}
                            <div style="display: none;" id='emailErrors'>
                              {{ form.email.errors }}
                            </div>
                            <script>formErrorBox('{{ form.email.errors }}', 'emailInput', 'emailErrors');</script>
                        </div>

                        <div class="form-group m-2">
                            {{ form.first_name }}
                            <div style="display: none;" id='first_nameErrors'>
                              {{ form.first_name.errors }}
                            </div>
                            <script>formErrorBox('{{ form.first_name.errors }}', 'first_nameInput', 'first_nameErrors');</script>
                        </div>

                        <div class="form-group m-2">
                            {{ form.last_name }}
                            <div style="display: none;" id='last_nameErrors'>
                              {{ form.last_name.errors }}
                            </div>
                            <script>formErrorBox('{{ form.last_name.errors }}', 'last_nameInput', 'last_nameErrors');</script>
                        </div>

                        <div class="form-group m-2">
                            {{ form.password1 }}
                            <div style="display: none;" id='password1Errors'>
                              {{ form.password1.errors }}
                            </div>
                            <script>formErrorBox('{{ form.password1.errors }}', 'password1Input', 'password1Errors');</script>
                        </div>

                        <div class="form-group m-2">
                            {{ form.password2 }}
                            <div style="display: none;" id='password2Errors'>
                              {{ form.password2.errors }}
                            </div>
                            <script>formErrorBox('{{ form.password2.errors }}', 'password2Input', 'password2Errors');</script>
                        </div>
                        <button type="submit" class="btn btn-warning">Let's go!</button>
                    </form>
                </div>
            </div>
        </div>
      </div>


{% endblock %}